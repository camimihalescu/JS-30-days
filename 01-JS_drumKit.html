<!DOCTYPE html>
<html>

<head>
    <title> JS Drum Kit </title>
    <link rel="stylesheet" href="01_style.css">
</head>

<body>
    <div class="clickers">
        <div data-click="65" class="click">
            <kbd> A </kbd></br>
            <span class="sound">CLAP</span>
        </div>
        <div data-click="83" class="click">
            <kbd> S </kbd></br>
            <span class="sound">HIHAT</span>
        </div>
        <div data-click="68" class="click">
            <kbd> D </kbd></br>
            <span class="sound">KICK</span>
        </div>
        <div data-click="70" class="click">
            <kbd> F </kbd></br>
            <span class="sound">OPENHAT</span>
        </div>
        <div data-click="71" class="click">
            <kbd> G </kbd></br>
            <span class="sound">BOOM</span>
        </div>
        <div data-click="72" class="click">
            <kbd> H </kbd></br>
            <span class="sound">RIDE</span>
        </div>
        <div data-click="74" class="click">
            <kbd> J </kbd></br>
            <span class="sound">SNARE</span>
        </div>
        <div data-click="75" class="click">
            <kbd> K </kbd></br>
            <span class="sound">TOM</span>
        </div>
        <div data-click="76" class="click">
            <kbd> L </kbd></br>
            <span class="sound">TINK</span>
        </div>
    </div>
    <audio data-click="65" src="sounds/clap.wav"></audio>
    <audio data-click="83" src="sounds/hihat.wav"></audio>
    <audio data-click="68" src="sounds/kick.wav"></audio>
    <audio data-click="70" src="sounds/openhat.wav"></audio>
    <audio data-click="71" src="sounds/boom.wav"></audio>
    <audio data-click="72" src="sounds/ride.wav"></audio>
    <audio data-click="74" src="sounds/snare.wav"></audio>
    <audio data-click="75" src="sounds/tom.wav"></audio>
    <audio data-click="76" src="sounds/tink.wav"></audio>
    </div>

    <script>
        function playSound(event) { //when i press any key run a function with an given event
            const audio = document.querySelector(`audio[data-click="${event.keyCode}"]`); //make an const that connects the event with audio 
            if (!audio) return; //stop the function if there is not any audio when i press a key
            audio.currentTime=0;//rewind to the start
            audio.play();
            const animation = document.querySelector(`.click[data-click="${event.keyCode}"]`);//make an const that connects the event with animation
            animation.classList.add("playing");//adds the playing class
        }
        function removeTransition(event){
            this.classList.remove("playing"); //removes the plaing class
        }
        const clickers = document.querySelectorAll(".click")
        clickers.forEach(animation => animation.addEventListener("transitionend", removeTransition));//for each animation, after the transition, remove the playing class
        window.addEventListener("keydown", playSound);
    </script>
</body>

</html>